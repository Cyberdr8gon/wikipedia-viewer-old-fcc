"use strict";var destination=document.querySelector("#container"),SearchResults=React.createClass({displayName:"SearchResults",render:function(){function e(e){return React.createElement("a",{href:"http://en.wikipedia.org/?curid="+e.key,target:"_blank"},React.createElement("li",{key:e.key},e.title))}var t=this.props.results,a=t.map(e);return React.createElement("ul",{className:"theResults"},a)}}),SearchBox=React.createClass({displayName:"SearchBox",getInitialState:function(){return{results:[]}},submitQuery:function(e){var t=this._inputElement.value;t=t.replace(/\s/g,"+"),self=this,$.ajax({url:"https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch="+t+"&origin=*",datatype:"jsonp",success:function(e){var t=e.query.pages,a=[];for(var r in t)a.push({title:t[r].title,key:t[r].pageid});self.setState({results:a})}}),e.preventDefault()},render:function(){var e=this;return React.createElement("div",{className:"searchBoxMain"},React.createElement("form",{onSubmit:this.submitQuery},React.createElement("input",{ref:function(t){return e._inputElement=t},placeholder:"Search Wikipedia..."}),React.createElement("button",{type:"submit"},"Go")),React.createElement("br",null),React.createElement(SearchResults,{results:this.state.results}))}});ReactDOM.render(React.createElement("div",null,React.createElement(SearchBox,null),React.createElement("div",{className:"random"},React.createElement("a",{href:"https://en.wikipedia.org/wiki/Special:Random",target:"_blank"},"Random Article"))),destination);